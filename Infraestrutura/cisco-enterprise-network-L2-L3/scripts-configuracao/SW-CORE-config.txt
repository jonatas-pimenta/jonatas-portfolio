! #############################################################
! PROJETO: INFRAESTRUTURA DE REDE CORPORATIVA ENTERPRISE
! DISPOSITIVO: SW-CORE (Cisco Catalyst 2960)
! FUNCAO: Switch Core - Distribuicao e Agregacao de VLANs
! #############################################################

enable
configure terminal
hostname SW-CORE
vtp mode transparent

line console 0
 logging synchronous
exit

! --- Criacao do Banco de Dados de VLANs ---
vlan 10
 name PRODUCAO
vlan 20
 name ADMIN
vlan 99
 name GERENCIA_NATIVA
exit

! --- Interface G0/1: Link para o Roteador R1 ---
interface GigabitEthernet0/1
 description Link para R1-GATEWAY (Router-on-a-Stick)
 switchport mode trunk
 switchport trunk native vlan 99
 switchport trunk allowed vlan 10,20,99
 switchport nonegotiate
exit

! --- Interface G0/2: Link para o SW-ADMIN ---
interface GigabitEthernet0/2
 description Link Trunk para o SW-ADMIN
 switchport mode trunk
 switchport trunk native vlan 99
 switchport trunk allowed vlan 20,99
 switchport nonegotiate
exit

! --- Interface F0/24: Link para o SW-PRODUCAO ---
! Nota: Usando Fast Ethernet devido ao limite de portas Giga do 2960
interface FastEthernet0/24
 description Link Trunk para o SW-PRODUCAO
 switchport mode trunk
 switchport trunk native vlan 99
 switchport trunk allowed vlan 10,99
 switchport nonegotiate
exit

! --- Otimizacao de Performance ---
spanning-tree mode rapid-pvst

end
write memory